<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>nsITextInputProcessorType | gecko-types</title><meta name="description" content="Documentation for gecko-types"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base="..">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">gecko-types</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<ul class="tsd-breadcrumb">
<li><a href="../modules.html">gecko-types</a></li>
<li><a href="../modules/gen_idls.html">gen/idls</a></li>
<li><a href="gen_idls.nsITextInputProcessorType.html">nsITextInputProcessorType</a></li></ul>
<h1>Interface nsITextInputProcessorType</h1></div>
<section class="tsd-panel tsd-comment">
<div class="tsd-comment tsd-typography"><p>An nsITextInputProcessor instance is associated with a top level widget which
handles native IME.  It&#39;s associated by calling beginInputTransaction() or
beginInputTransactionForTests().  While an instance has composition, nobody
can steal the rights to make composition on the top level widget.  In other
words, if another instance is composing on a top level widget, either
beginInputTransaction() or beginInputTransactionForTests() returns false
(i.e., not throws an exception).</p>
<p>NOTE: See nsITextInputProcessorCallback.idl for examples of |callback| in
following examples,</p>
<p>Example #1 JS-IME can start composition like this:</p>
<p>var TIP = Components.classes[&quot;@mozilla.org/text-input-processor;1&quot;].
createInstance(Components.interfaces.nsITextInputProcessor);
if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to make composition
}
// Create a keyboard event if the following compositionc change is caused
// by a key event.
var keyEvent =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// Set new composition string first
TIP.setPendingCompositionString(&quot;some-words-are-inputted&quot;);
// Set clause information.
TIP.appendClauseToPendingComposition(23, TIP.ATTR_RAW_CLAUSE);
// Set caret position, this is optional.
TIP.setCaretInPendingComposition(23);
// Flush the pending composition
if (!TIP.flushPendingComposition(keyEvent)) {
// If it returns false, it fails to start composition.
return;
}</p>
<p>Example #2 JS-IME can separate composition string to two or more clauses:</p>
<p>// Create a keyboard event if the following compositionc change is caused
// by a key event.
var keyEvent =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// First, set composition string again
TIP.setPendingCompositionString(&quot;some-words-are-inputted&quot;);
// Then, if &quot;are&quot; is selected to convert, there are 3 clauses:
TIP.appendClauseToPendingComposition(11, TIP.ATTR_CONVERTED_CLAUSE);
TIP.appendClauseToPendingComposition(3,  TIP.ATTR_SELECTED_CLAUSE);
TIP.appendClauseToPendingComposition(9,  TIP.ATTR_CONVERTED_CLAUSE);
// Show caret at the beginning of the selected clause
TIP.setCaretInPendingComposition(11);
// Flush the pending composition.  Note that if there is a composition,
// flushPendingComposition() won&#39;t return false.
TIP.flushPendingComposition(keyEvent);</p>
<p>Example #3 JS-IME can commit composition with specific string with this:</p>
<p>// Create a keyboard event if the following compositionc change is caused
// by a key event.
var keyEvent1 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// First, there is a composition.
TIP.setPendingCompositionString(&quot;some-words-directly-inputted&quot;);
TIP.appendClauseToPendingComposition(28, TIP.ATTR_RAW_CLAUSE);
TIP.flushPendingComposition(keyEvent1);
// Create a keyboard event if the following commit composition is caused
// by a key event.
var keyEvent2 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// This is useful when user selects a commit string from candidate list UI
// which is provided by JS-IME.
TIP.commitCompositionWith(&quot;selected-words-from-candidate-list&quot;, keyEvent2);</p>
<p>Example #4 JS-IME can commit composition with the last composition string
without specifying commit string:</p>
<p>// Create a keyboard event if the following compositionc change is caused
// by a key event.
var keyEvent1 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// First, there is a composition.
TIP.setPendingCompositionString(&quot;some-words-will-be-commited&quot;);
TIP.appendClauseToPendingComposition(27, TIP.ATTR_RAW_CLAUSE);
TIP.flushPendingComposition(keyEvent1);
// Create a keyboard event if the following commit is caused by a key
// event.
var keyEvent2 =
new KeyboardEvent(&quot;&quot;, { key: &quot;Enter&quot;, code: &quot;Enter&quot;,
keyCode: KeyboardEvent.DOM_VK_RETURN });
// This is useful when user just type Enter key.
TIP.commitComposition(keyEvent2);</p>
<p>Example #5 JS-IME can cancel composition with this:</p>
<p>// Create a keyboard event if the following composition change is caused
// by a key event.
var keyEvent1 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// First, there is a composition.
TIP.setPendingCompositionString(&quot;some-words-will-be-canceled&quot;);
TIP.appendClauseToPendingComposition(27, TIP.ATTR_RAW_CLAUSE);
TIP.flushPendingComposition(keyEvent1);
// Create a keyboard event if the following canceling composition is
// caused by a key event.
var keyEvent2 =
new KeyboardEvent(&quot;&quot;, { key: &quot;Escape&quot;, code: &quot;Escape&quot;,
keyCode: KeyboardEvent.DOM_VK_ESCAPE });
// This is useful when user doesn&#39;t want to commit the composition.
// FYI: This is same as TIP.commitCompositionWith(&quot;&quot;) for now.
TIP.cancelComposition(keyEvent2);</p>
<p>Example #6 JS-IME can insert text only with commitCompositionWith():</p>
<p>// Create a keyboard event if the following inserting text is caused by a
// key event.
var keyEvent1 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to make composition
}
TIP.commitCompositionWith(&quot;Some words&quot;, keyEvent1);</p>
<p>Example #7 JS-IME can start composition explicitly:</p>
<p>if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to make composition
}
// Create a keyboard event if the following starting composition is caused
// by a key event.
var keyEvent1 =
new KeyboardEvent(&quot;&quot;, { key: &quot;foo&quot;, code: &quot;bar&quot;, keyCode: buzz });
// If JS-IME don&#39;t want to show composing string in the focused editor,
// JS-IME can dispatch only compositionstart event with this.
if (!TIP.startComposition(keyEvent1)) {
// Failed to start composition.
return;
}
// And when user selects a result from UI of JS-IME, commit with it.
// Then, the key event should be null.
TIP.commitCompositionWith(&quot;selected-words&quot;);</p>
<p>Example #8 JS-IME or JS-Keyboard should dispatch key events even during
composition (non-printable key case):</p>
<p>if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to dispatch key events
}</p>
<p>// You don&#39;t need to specify .keyCode value if it&#39;s non-printable key
// because it can be computed from .key value.
// If you specify non-zero value to .keyCode, it&#39;ll be used.
var keyEvent = new KeyboardEvent(&quot;&quot;, { code: &quot;Enter&quot;, key: &quot;Enter&quot; });
if (TIP.keydown(keyEvent)) {
// Handle its default action
}</p>
<p>// Even if keydown event was consumed, keyup event should be dispatched.
if (TIP.keyup(keyEvent)) {
// Handle its default action
}</p>
<p>Example #9 JS-IME or JS-Keyboard should dispatch key events even during
composition (printable key case):</p>
<p>if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to dispatch key events
}</p>
<p>// You need to specify .keyCode value if it&#39;s printable key.
// The rules of .keyCode value is documented in MDN:
//   <a href="https://developer.mozilla.org/docs/Web/API/KeyboardEvent.keyCode">https://developer.mozilla.org/docs/Web/API/KeyboardEvent.keyCode</a>
//
//   #1 If the key location is DOM_KEY_LOCATION_NUMPAD and NumLock is
//      active, you should specify DOM_VK_NUMPAD[0-9], DOM_VK_MULTIPLY,
//      DOM_VK_ADD, DOM_VK_SEPARATOR, DOM_VK_SUBTRACT, DOM_VK_DECIMAL or
//      DOM_VK_DIVIDE.
//   #2 If the key is Spacebar, use DOM_VK_SPACE.
//
//   Following rules are printable keys in DOM_KEY_LOCATION_STANDARD.
//   .keyCode value for a key shouldn&#39;t be changed by modifier states:
//     #1 If the key can input [0-9] with any modifier state (except
//        NumLock state), the value should be DOM_VK_[0-9].
//     #2 Otherwise, and if the key inputs an ASCII alphabet with no
//        active modifiers, use DOM_VK_[A-Z].
//     #3 Otherwise, and if the key inputs an ASCII alphabet with no
//        active modifiers except Shift key state, use DOM_VK_[A-Z] for
//        the shifted character.  E.g., if a key causes non-alphabet
//        character such as &quot;@&quot; or a Unicode character without Shift key
//        but &quot;a&quot; is inputted when Shift key is pressed, the proper
//        keyCode is DOM_VK_A.
//     #4 Otherwise, and if the key inputs another ASCII character with
//        no modifier states, use a proper value for the character.  E.g.,
//        if the key inputs &quot;*&quot; without Shift key state, it should be
//        DOM_VK_ASTERISK.
//     #5 Otherwise, and if the key inputs another ASCII character with
//        Shift key state, use a proper value for the character.  E.g.,
//        if a key causes a Unicode character without Shift key but &quot;&amp;&quot;
//        is inputted when Shift key is pressed, the proper keyCode is
//        DOM_VK_AMPERSAND.
//     See above document for the other cases.
//
// NOTE: If the software keyboard is 10-key like simple phone,
//       We don&#39;t have common rules to decide its .keyCode value.
//       Above rules should be used when the JS-Keyboard emulates PC
//       keyboard.
// .key value should be inputting character by the key with current
// modifier state.
// .code value should be empty string if the JS-Keyboard isn&#39;t emulating
// physical keyboard.  Otherwise, use same value with physical keyboard&#39;s
// same key.
var keyEvent = new KeyboardEvent(&quot;&quot;, { code: &quot;KeyA&quot;, key: &quot;a&quot;,
keyCode: KeyboardEvent.DOM_VK_A });
if (TIP.keydown(keyEvent)) {
// Handle its default action
}</p>
<p>// Even if keydown event was consumed, keyup event should be dispatched.
if (TIP.keyup(keyEvent)) {
// Handle its default action
}</p>
<p>Example #10 JS-Keyboard doesn&#39;t need to initialize modifier states at
calling either keydown() or keyup().</p>
<p>// Neither beginInputTransaction() nor beginInputTransactionForTests()
// resets modifier state.
if (!TIP.beginInputTransaction(window, callback)) {
return; // You failed to get the rights to dispatch key events
}</p>
<p>var leftShift = new KeyboardEvent(&quot;&quot;, { code: &quot;ShiftLeft&quot;, key: &quot;Shift&quot; });</p>
<p>// This causes following key events will be shifted automatically.
TIP.keydown(leftShift);</p>
<p>var rightShift =
new KeyboardEvent(&quot;&quot;, { code: &quot;ShiftRight&quot;, key: &quot;Shift&quot; });</p>
<p>TIP.keydown(rightShift);</p>
<p>// keyup of one of shift key doesn&#39;t cause inactivating &quot;Shift&quot; state.
TIP.keyup(rightShift);</p>
<p>// This causes inactivating &quot;Shift&quot; state completely.
TIP.keyup(leftShift);</p>
</div></section>
<section class="tsd-panel tsd-hierarchy">
<h4>Hierarchy</h4>
<ul class="tsd-hierarchy">
<li><span class="tsd-signature-type">nsISupports</span>
<ul class="tsd-hierarchy">
<li><span class="target">nsITextInputProcessorType</span></li></ul></li></ul></section><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48562">types/gen/idls.d.ts:48562</a></li></ul></aside>
<section class="tsd-panel-group tsd-index-group">
<section class="tsd-panel tsd-index-panel">
<details class="tsd-index-content tsd-index-accordion" open><summary class="tsd-accordion-summary tsd-index-summary">
<h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex=0><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M1.5 5.50969L8 11.6609L14.5 5.50969L12.5466 3.66086L8 7.96494L3.45341 3.66086L1.5 5.50969Z" fill="var(--color-text)"></path></svg> Index</h5></summary>
<div class="tsd-accordion-details">
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Properties</h3>
<div class="tsd-index-list"><a href="gen_idls.nsITextInputProcessorType.html#hasComposition" class="tsd-index-link tsd-kind-property tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#FF984D" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-1024-path"></rect><path d="M9.354 16V7.24H12.174C12.99 7.24 13.638 7.476 14.118 7.948C14.606 8.412 14.85 9.036 14.85 9.82C14.85 10.604 14.606 11.232 14.118 11.704C13.638 12.168 12.99 12.4 12.174 12.4H10.434V16H9.354ZM10.434 11.428H12.174C12.646 11.428 13.022 11.284 13.302 10.996C13.59 10.7 13.734 10.308 13.734 9.82C13.734 9.324 13.59 8.932 13.302 8.644C13.022 8.356 12.646 8.212 12.174 8.212H10.434V11.428Z" fill="var(--color-text)" id="icon-1024-text"></path></svg><span>has<wbr/>Composition</span></a>
</div></section>
<section class="tsd-index-section">
<h3 class="tsd-index-heading">Methods</h3>
<div class="tsd-index-list"><a href="gen_idls.nsITextInputProcessorType.html#appendClauseToPendingComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="#FF4DB8" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="12" id="icon-2048-path"></rect><path d="M9.162 16V7.24H10.578L11.514 10.072C11.602 10.328 11.674 10.584 11.73 10.84C11.794 11.088 11.842 11.28 11.874 11.416C11.906 11.28 11.954 11.088 12.018 10.84C12.082 10.584 12.154 10.324 12.234 10.06L13.122 7.24H14.538V16H13.482V12.82C13.482 12.468 13.49 12.068 13.506 11.62C13.53 11.172 13.558 10.716 13.59 10.252C13.622 9.78 13.654 9.332 13.686 8.908C13.726 8.476 13.762 8.1 13.794 7.78L12.366 12.16H11.334L9.894 7.78C9.934 8.092 9.97 8.456 10.002 8.872C10.042 9.28 10.078 9.716 10.11 10.18C10.142 10.636 10.166 11.092 10.182 11.548C10.206 12.004 10.218 12.428 10.218 12.82V16H9.162Z" fill="var(--color-text)" id="icon-2048-text"></path></svg><span>append<wbr/>Clause<wbr/>To<wbr/>Pending<wbr/>Composition</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#beginInputTransaction" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>begin<wbr/>Input<wbr/>Transaction</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#beginInputTransactionForTests" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>begin<wbr/>Input<wbr/>Transaction<wbr/>For<wbr/>Tests</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#cancelComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>cancel<wbr/>Composition</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#commitComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>commit<wbr/>Composition</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#commitCompositionWith" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>commit<wbr/>Composition<wbr/>With</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#computeCodeValueOfNonPrintableKey" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>compute<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Non<wbr/>Printable<wbr/>Key</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#flushPendingComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>flush<wbr/>Pending<wbr/>Composition</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#getModifierState" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>get<wbr/>Modifier<wbr/>State</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>guess<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>guess<wbr/>Key<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#keydown" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>keydown</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#keyup" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>keyup</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#setCaretInPendingComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>set<wbr/>Caret<wbr/>In<wbr/>Pending<wbr/>Composition</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#setPendingCompositionString" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>set<wbr/>Pending<wbr/>Composition<wbr/>String</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#shareModifierStateOf" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>share<wbr/>Modifier<wbr/>State<wbr/>Of</span></a>
<a href="gen_idls.nsITextInputProcessorType.html#startComposition" class="tsd-index-link tsd-kind-method tsd-parent-kind-interface"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg><span>start<wbr/>Composition</span></a>
</div></section></div></details></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Properties</h2>
<section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-interface"><a id="hasComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><code class="tsd-tag ts-flagReadonly">Readonly</code> <span>has<wbr/>Composition</span><a href="#hasComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none" id="icon-anchor-a"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" id="icon-anchor-b"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" id="icon-anchor-c"></path></svg></a></h3>
<div class="tsd-signature">has<wbr/>Composition<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div>
<div class="tsd-comment tsd-typography"><p>Returns true if this instance was dispatched compositionstart but hasn&#39;t
dispatched compositionend yet.</p>
</div><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48567">types/gen/idls.d.ts:48567</a></li></ul></aside></section></section>
<section class="tsd-panel-group tsd-member-group">
<h2>Methods</h2>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="appendClauseToPendingComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>append<wbr/>Clause<wbr/>To<wbr/>Pending<wbr/>Composition</span><a href="#appendClauseToPendingComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="appendClauseToPendingComposition.appendClauseToPendingComposition-1">append<wbr/>Clause<wbr/>To<wbr/>Pending<wbr/>Composition<span class="tsd-signature-symbol">(</span>aLength<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, aAttribute<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#appendClauseToPendingComposition.appendClauseToPendingComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Append a clause to the pending composition.</p>
<p>If you need to fill the pending composition string with a clause, you
should call this once.  For example:
appendClauseToPendingComposition(compositionString.length,
ATTR_RAW_CLAUSE);
is enough.  If you need to separate the pending composition string to
multiple clauses, you need to call this multiple times. For example,
if your pending composition string has three clauses and the second clause
is being converted:
appendClauseToPendingComposition(firstClauseLength,
ATTR_CONVERTED_CLAUSE);
appendClauseToPendingComposition(secondClauseLength,
ATTR_SELECTED_CLAUSE);
appendClauseToPendingComposition(thirdClauseLength,
ATTR_CONVERTED_CLAUSE);
Note that if sum of aLength mismatches length of the pending composition
string, flushPendingComposition() will throw an exception.  I.e.,
|firstClauseLength + secondClauseLength + thirdClauseLength| must be
same as the length of pending composition string.</p>
<p>TODO: Should be able to specify custom clause style.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aLength: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>Length of the clause.</p>
</div></li>
<li>
<h5>aAttribute: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>One of ATTR_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48650">types/gen/idls.d.ts:48650</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="beginInputTransaction" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>begin<wbr/>Input<wbr/>Transaction</span><a href="#beginInputTransaction" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="beginInputTransaction.beginInputTransaction-1">begin<wbr/>Input<wbr/>Transaction<span class="tsd-signature-symbol">(</span>aWindow<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">mozIDOMWindow</span>, aCallback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">nsITextInputProcessorCallback</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#beginInputTransaction.beginInputTransaction-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>When you create an instance, you must call beginInputTransaction() first
except when you created the instance for automated tests.</p>

<h3>Returns</h3><p>If somebody uses internal text input service for a
composition, this returns false.  Otherwise, returns
true.  I.e., only your TIP can create composition
when this returns true.  If this returns false,
your TIP should wait next chance.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aWindow: <span class="tsd-signature-type">mozIDOMWindow</span></h5>
<div class="tsd-comment tsd-typography"><p>A DOM window.  The instance will look for a top
level widget from this.</p>
</div></li>
<li>
<h5>aCallback: <span class="tsd-signature-type">nsITextInputProcessorCallback</span></h5>
<div class="tsd-comment tsd-typography"><p>Callback interface which handles requests to
IME and notifications to IME.  This must not be
null.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48583">types/gen/idls.d.ts:48583</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="beginInputTransactionForTests" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>begin<wbr/>Input<wbr/>Transaction<wbr/>For<wbr/>Tests</span><a href="#beginInputTransactionForTests" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="beginInputTransactionForTests.beginInputTransactionForTests-1">begin<wbr/>Input<wbr/>Transaction<wbr/>For<wbr/>Tests<span class="tsd-signature-symbol">(</span>aWindow<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">mozIDOMWindow</span>, aCallback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">nsITextInputProcessorCallback</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#beginInputTransactionForTests.beginInputTransactionForTests-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>When you create an instance for automated test, you must call
beginInputTransaction(), first.  See beginInputTransaction() for more
detail of this.
Note that aCallback can be null.  If it&#39;s null, nsITextInputProcessor
implementation will handle them automatically.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aWindow: <span class="tsd-signature-type">mozIDOMWindow</span></h5></li>
<li>
<h5>aCallback: <span class="tsd-signature-type">nsITextInputProcessorCallback</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48591">types/gen/idls.d.ts:48591</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="cancelComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>cancel<wbr/>Composition</span><a href="#cancelComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="cancelComposition.cancelComposition-1">cancel<wbr/>Composition<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#cancelComposition.cancelComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>cancelComposition() will cancel composition.  This is for now the same as
calling commitComposition(&quot;&quot;).  However, in the future, this might work
better.  If your IME needs to cancel composition, use this instead of
commitComposition().</p>
<p>Note that if you tries to cancel composition when there is no composition,
this throws an exception.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Key event which causes the canceling composition.
If its type value is &quot;keydown&quot;, this method
dispatches only keydown event first.  Otherwise,
dispatches keydown first and keyup at last.
key value and keyCode values of keydown event
are set to &quot;Process&quot; and DOM_VK_PROCESSKEY
automatically.  You can prevent this behavior
with KEY_DONT_MARK_KEYDOWN_AS_PROCESSED.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>See KEY_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48744">types/gen/idls.d.ts:48744</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="commitComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>commit<wbr/>Composition</span><a href="#commitComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="commitComposition.commitComposition-1">commit<wbr/>Composition<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#commitComposition.commitComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>commitComposition() will commit composition with the last composition
string.  If there is no composition, this will throw an exception.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Key event which causes the commit composition.
If its type value is &quot;keydown&quot;, this method
dispatches only keydown event first.  Otherwise,
dispatches keydown first and keyup at last.
key value and keyCode values of keydown event
are set to &quot;Process&quot; and DOM_VK_PROCESSKEY
automatically.  You can prevent this behavior
with KEY_DONT_MARK_KEYDOWN_AS_PROCESSED.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>See KEY_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48702">types/gen/idls.d.ts:48702</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="commitCompositionWith" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>commit<wbr/>Composition<wbr/>With</span><a href="#commitCompositionWith" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="commitCompositionWith.commitCompositionWith-1">commit<wbr/>Composition<wbr/>With<span class="tsd-signature-symbol">(</span>aCommitString<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#commitCompositionWith.commitCompositionWith-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>commitCompositionWith() will commit composition with the specific string.
If there is no composition, this will start composition and commit it
with the specified string.</p>

<h3>Returns</h3><p>Returns true if there is a composition already or
starting composition automatically.
Otherwise, i.e., if it cannot start composition
automatically, e.g., canceled by web apps, returns
false.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aCommitString: <span class="tsd-signature-type">string</span></h5>
<div class="tsd-comment tsd-typography"><p>The string to be committed.</p>
</div></li>
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Key event which causes the commit composition.
If its type value is &quot;keydown&quot;, this method
dispatches only keydown event first.  Otherwise,
dispatches keydown first and keyup at last.
key value and keyCode values of keydown event
are set to &quot;Process&quot; and DOM_VK_PROCESSKEY
automatically.  You can prevent this behavior
with KEY_DONT_MARK_KEYDOWN_AS_PROCESSED.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>See KEY_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48724">types/gen/idls.d.ts:48724</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="computeCodeValueOfNonPrintableKey" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>compute<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Non<wbr/>Printable<wbr/>Key</span><a href="#computeCodeValueOfNonPrintableKey" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="computeCodeValueOfNonPrintableKey.computeCodeValueOfNonPrintableKey-1">compute<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Non<wbr/>Printable<wbr/>Key<span class="tsd-signature-symbol">(</span>aKeyValue<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, aLocation<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><a href="#computeCodeValueOfNonPrintableKey.computeCodeValueOfNonPrintableKey-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Helper method to get usual |.code| value of non-printable keys.</p>

<h3>Returns</h3><p>One of a code value of well-known key on usual
keyboard on the platform, or empty string.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyValue: <span class="tsd-signature-type">string</span></h5>
<div class="tsd-comment tsd-typography"><p>A predefined key value such as &quot;Enter&quot;.
If this is not a proper non-printable key value
or a proper key value but not in usual keyboard of
the platform, this returns empty string.</p>
</div></li>
<li>
<h5>aLocation: <span class="tsd-signature-type">any</span></h5>
<div class="tsd-comment tsd-typography"><p>The |.location| value.  This is important if
the key may be in different location.
E.g., Left vs. Right or Standard vs. Numpad.
If this is undefined or null, it&#39;ll be treated
as Standard or Left.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48836">types/gen/idls.d.ts:48836</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="flushPendingComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>flush<wbr/>Pending<wbr/>Composition</span><a href="#flushPendingComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="flushPendingComposition.flushPendingComposition-1">flush<wbr/>Pending<wbr/>Composition<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#flushPendingComposition.flushPendingComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>flushPendingComposition() must be called after
setPendingCompositionString() and appendClauseToPendingComposition()
(setCaretInPendingComposition() is optional) are called.</p>
<p>Note that compositionstart will be automatically dispatched if this is
called when there is no composition.</p>
<p>Note that if sum of lengths of appended clauses are not same as composition
string or caret offset is larger than the composition string length, this
throws an exception.</p>

<h3>Returns</h3><p>Returns true if there is a composition already or
starting composition automatically.
Otherwise, i.e., if it cannot start composition
automatically, e.g., canceled by web apps, returns
false.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Key event which causes the composition string.
If its type value is &quot;keydown&quot;, this method
dispatches only keydown event first.  Otherwise,
dispatches keydown first and keyup at last.
key value and keyCode values of keydown event
are set to &quot;Process&quot; and DOM_VK_PROCESSKEY
automatically.  You can prevent this behavior
with KEY_DONT_MARK_KEYDOWN_AS_PROCESSED.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>See KEY_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48687">types/gen/idls.d.ts:48687</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="getModifierState" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>get<wbr/>Modifier<wbr/>State</span><a href="#getModifierState" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="getModifierState.getModifierState-1">get<wbr/>Modifier<wbr/>State<span class="tsd-signature-symbol">(</span>aModifierKey<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#getModifierState.getModifierState-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>getModifierState() returns modifier state managed by this instance.</p>

<h3>Returns</h3><p>true if the modifier key is active.  Otherwise,
false.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aModifierKey: <span class="tsd-signature-type">string</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48809">types/gen/idls.d.ts:48809</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>guess<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</span><a href="#guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout.guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout-1">guess<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout<span class="tsd-signature-symbol">(</span>aKeyValue<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, aLocation<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><a href="#guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout.guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Helper method to guess |.code| value of a printable key which is in usual
keyboard of the platform and when active keyboard layout is US-English.
Note that this is not aware of option key mapping on macOS.</p>

<h3>Returns</h3><p>Returns empty string if there is no proper key.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyValue: <span class="tsd-signature-type">string</span></h5>
<div class="tsd-comment tsd-typography"><p>The key value. Must be a character which can
be inputted with US-English keyboard layout.</p>
</div></li>
<li>
<h5>aLocation: <span class="tsd-signature-type">any</span></h5>
<div class="tsd-comment tsd-typography"><p>The location of the key.  This is important
to distinguish whether the key is in Standard
or Numpad. If this is undefined or null, will
be treated as Standard.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48850">types/gen/idls.d.ts:48850</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>guess<wbr/>Key<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</span><a href="#guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout.guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout-1">guess<wbr/>Key<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout<span class="tsd-signature-symbol">(</span>aKeyValue<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, aLocation<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><a href="#guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout.guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Helper method to guess |.keyCode| value of a printable key which is in
usual keyboard of the platform and when active keyboard layout is
US-English.
Note that this is not aware of option key mapping on macOS.</p>

<h3>Returns</h3><p>Returns 0 if there is no proper key to input
aKeyValue with US-English keyboard layout.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyValue: <span class="tsd-signature-type">string</span></h5>
<div class="tsd-comment tsd-typography"><p>The key value.  Must be a character which can
be inputted with US-English keyboard layout.</p>
</div></li>
<li>
<h5>aLocation: <span class="tsd-signature-type">any</span></h5>
<div class="tsd-comment tsd-typography"><p>The location of the key.  This is important
to distinguish whether the key is in Standard
our Numpad.  If this is undefined or null,
will be treated as Standard.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48866">types/gen/idls.d.ts:48866</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="keydown" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>keydown</span><a href="#keydown" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="keydown.keydown-1">keydown<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><a href="#keydown.keydown-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>keydown() may dispatch a keydown event and some keypress events if
preceding keydown event isn&#39;t consumed and they are necessary.
Note that even if this is called during composition, key events may not
be dispatched.  In this case, this returns false.</p>
<p>You should initialize at least .key value and .code value of the event.
Additionally, if you try to emulate a printable key, .keyCode value should
be specified if there is proper key value.  See the comment of above
example how to decide .keyCode value of a printable key.  On the other
hand, .keyCode value is automatically computed when you try to emulate
non-printable key.  However, if you try to emulate physical keyboard of
desktop platform, you need to specify proper value explicitly because
the mapping table of this API isn&#39;t enough to emulate the behavior of
Gecko for desktop platforms.</p>
<p>NOTE: Even if this has composition, JS-Keyboard should call keydown() and
keyup().  Although, with the default preferences and normal
conditions, DOM key events won&#39;t be fired during composition.
However, they MAY be dispatched for some reasons, e.g., the web
content listens only key events, or if the standard DOM event spec
will be changed in the future.</p>

<h3>Returns</h3><p>KEYEVENT_NOT_CONSUMED, if the keydown event nor
the following keypress event(s) are consumed.
KEYDOWN_IS_CONSUMED, if the keydown event is
consumed. No keypress event will be dispatched in
this case.
KEYPRESS_IS_CONSUMED, if the keypress event(s) is
consumed when dispatched.
Note that keypress event is always consumed by
native code for the printable keys (indicating the
default action has been taken).</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Must be a keyboard event which should be dispatched
as a keydown event and keypress events.
#1 Note that you don&#39;t need to set charCode value
because it&#39;s computed from its key value.
#2 If code value is set properly and location value
isn&#39;t specified (i.e., 0), the location value will
be guessed from the code value.
#3 Non-defined code names are not allowed. If your
key isn&#39;t registered, file a bug. If your key isn&#39;t
defined by any standards, use &quot;&quot; (empty string).
#4 .keyCode is guessed from .key value if the key
name is registered and .keyCode isn&#39;t initialized.
#5 modifier key states, e.g., .shiftKey, are
ignored.  Instead, modifier states are managed by
each instance and set automatically.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>Special flags.  The values can be some of KEY_*
constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48796">types/gen/idls.d.ts:48796</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="keyup" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>keyup</span><a href="#keyup" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="keyup.keyup-1">keyup<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#keyup.keyup-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Similar to keydown(), but this dispatches only a keyup event.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48800">types/gen/idls.d.ts:48800</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="setCaretInPendingComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>set<wbr/>Caret<wbr/>In<wbr/>Pending<wbr/>Composition</span><a href="#setCaretInPendingComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="setCaretInPendingComposition.setCaretInPendingComposition-1">set<wbr/>Caret<wbr/>In<wbr/>Pending<wbr/>Composition<span class="tsd-signature-symbol">(</span>aOffset<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#setCaretInPendingComposition.setCaretInPendingComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Set caret offset in the pending composition string.  If you don&#39;t need to
show a caret, you don&#39;t need to call this.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aOffset: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>Caret offset in the pending composition string.
This must be between 0 and length of the pending
composition string.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48659">types/gen/idls.d.ts:48659</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="setPendingCompositionString" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>set<wbr/>Pending<wbr/>Composition<wbr/>String</span><a href="#setPendingCompositionString" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="setPendingCompositionString.setPendingCompositionString-1">set<wbr/>Pending<wbr/>Composition<wbr/>String<span class="tsd-signature-symbol">(</span>aString<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#setPendingCompositionString.setPendingCompositionString-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>Set new composition string.  Pending composition will be flushed by
a call of flushPendingComposition().  However, if the new composition
string isn&#39;t empty, you need to call appendClauseToPendingComposition() to
fill all characters of aString with one or more clauses before flushing.
Note that if you need to commit or cancel composition, use
commitComposition(), commitCompositionWith() or cancelComposition().</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aString: <span class="tsd-signature-type">string</span></h5></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48622">types/gen/idls.d.ts:48622</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="shareModifierStateOf" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>share<wbr/>Modifier<wbr/>State<wbr/>Of</span><a href="#shareModifierStateOf" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="shareModifierStateOf.shareModifierStateOf-1">share<wbr/>Modifier<wbr/>State<wbr/>Of<span class="tsd-signature-symbol">(</span>aOther<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">nsITextInputProcessor</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><a href="#shareModifierStateOf.shareModifierStateOf-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>shareModifierStateOf() makes the instance shares modifier state of
another instance.  When this is called, the instance refers the modifier
state of another instance.  After that, changes to either this and the
other instance&#39;s modifier state is synchronized.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aOther: <span class="tsd-signature-type">nsITextInputProcessor</span></h5>
<div class="tsd-comment tsd-typography"><p>Another instance which will be referred by the
instance.  If this is null, the instance restarts
to manage modifier state independently.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48820">types/gen/idls.d.ts:48820</a></li></ul></aside></li></ul></section>
<section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-interface"><a id="startComposition" class="tsd-anchor"></a>
<h3 class="tsd-anchor-link"><span>start<wbr/>Composition</span><a href="#startComposition" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></h3>
<ul class="tsd-signatures tsd-kind-method tsd-parent-kind-interface">
<li class="tsd-signature tsd-anchor-link" id="startComposition.startComposition-1">start<wbr/>Composition<span class="tsd-signature-symbol">(</span>aKeyboardEvent<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Event</span>, aKeyFlags<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><a href="#startComposition.startComposition-1" aria-label="Permalink" class="tsd-anchor-icon"><svg class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><use href="#icon-anchor-a"></use><use href="#icon-anchor-b"></use><use href="#icon-anchor-c"></use></svg></a></li>
<li class="tsd-description">
<div class="tsd-comment tsd-typography"><p>startComposition() dispatches compositionstart event explicitly.
IME does NOT need to call this typically since compositionstart event
is automatically dispatched by sendPendingComposition() if
compositionstart event hasn&#39;t been dispatched yet.  If this is called
when compositionstart has already been dispatched, this throws an
exception.</p>

<h3>Returns</h3><p>Returns true if composition starts normally.
Otherwise, returns false because it might be
canceled by the web application.</p>
</div>
<div class="tsd-parameters">
<h4 class="tsd-parameters-title">Parameters</h4>
<ul class="tsd-parameter-list">
<li>
<h5>aKeyboardEvent: <span class="tsd-signature-type">Event</span></h5>
<div class="tsd-comment tsd-typography"><p>Key event which causes starting composition.
If its type value is &quot;keydown&quot;, this method
dispatches only keydown event first.  Otherwise,
dispatches keydown first and keyup at last.
key value and keyCode values of keydown event
are set to &quot;Process&quot; and DOM_VK_PROCESSKEY
automatically.  You can prevent this behavior
with KEY_DONT_MARK_KEYDOWN_AS_PROCESSED.</p>
</div></li>
<li>
<h5>aKeyFlags: <span class="tsd-signature-type">number</span></h5>
<div class="tsd-comment tsd-typography"><p>See KEY_* constants.</p>
</div></li></ul></div>
<h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><aside class="tsd-sources">
<ul>
<li>Defined in <a href="https://github.com/quark-platform/gecko-types/blob/92ca110/types/gen/idls.d.ts#L48613">types/gen/idls.d.ts:48613</a></li></ul></aside></li></ul></section></section></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current"><a href="../modules.html">gecko-<wbr/>types</a>
<ul>
<li class="tsd-kind-module"><a href="../modules/custom_idlTypes.html">custom/idl<wbr/>Types</a></li>
<li class="tsd-kind-module"><a href="../modules/custom_webidlTypes.html">custom/webidl<wbr/>Types</a></li>
<li class="current tsd-kind-module"><a href="../modules/gen_idls.html">gen/idls</a></li>
<li class="tsd-kind-module"><a href="../modules/gen_namespaces.html">gen/namespaces</a>
<ul>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.APZHitResultFlags.html">APZHit<wbr/>Result<wbr/>Flags</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.AddonManagerPermissions.html">Addon<wbr/>Manager<wbr/>Permissions</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module tsd-is-external"><a href="../modules/gen_namespaces.CSS.html">CSS</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.ChromeUtils.html">Chrome<wbr/>Utils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.IOUtils.html">IOUtils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.InspectorUtils.html">Inspector<wbr/>Utils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.L10nOverlays.html">L10n<wbr/>Overlays</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.MediaControlService.html">Media<wbr/>Control<wbr/>Service</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.PathUtils.html">Path<wbr/>Utils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.PlacesObservers.html">Places<wbr/>Observers</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.PrioEncoder.html">Prio<wbr/>Encoder</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.PromiseDebugging.html">Promise<wbr/>Debugging</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.SessionStoreUtils.html">Session<wbr/>Store<wbr/>Utils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.TelemetryStopwatch.html">Telemetry<wbr/>Stopwatch</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.TestUtils.html">Test<wbr/>Utils</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.UniFFIScaffolding.html">UniFFIScaffolding</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.UserInteraction.html">User<wbr/>Interaction</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.WebrtcGlobalInformation.html">Webrtc<wbr/>Global<wbr/>Information</a></li>
<li class="tsd-kind-namespace tsd-parent-kind-module"><a href="../modules/gen_namespaces.WorkerTestUtils.html">Worker<wbr/>Test<wbr/>Utils</a></li></ul></li></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="current tsd-kind-interface tsd-parent-kind-module"><a href="gen_idls.nsITextInputProcessorType.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg><span>nsIText<wbr/>Input<wbr/>Processor<wbr/>Type</span></a>
<ul>
<li class="tsd-kind-property tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#hasComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-1024-path"></use><use href="#icon-1024-text"></use></svg>has<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#appendClauseToPendingComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>append<wbr/>Clause<wbr/>To<wbr/>Pending<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#beginInputTransaction" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>begin<wbr/>Input<wbr/>Transaction</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#beginInputTransactionForTests" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>begin<wbr/>Input<wbr/>Transaction<wbr/>For<wbr/>Tests</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#cancelComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>cancel<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#commitComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>commit<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#commitCompositionWith" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>commit<wbr/>Composition<wbr/>With</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#computeCodeValueOfNonPrintableKey" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>compute<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Non<wbr/>Printable<wbr/>Key</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#flushPendingComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>flush<wbr/>Pending<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#getModifierState" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>get<wbr/>Modifier<wbr/>State</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#guessCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>guess<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#guessKeyCodeValueOfPrintableKeyInUSEnglishKeyboardLayout" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>guess<wbr/>Key<wbr/>Code<wbr/>Value<wbr/>Of<wbr/>Printable<wbr/>Key<wbr/>InUSEnglish<wbr/>Keyboard<wbr/>Layout</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#keydown" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>keydown</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#keyup" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>keyup</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#setCaretInPendingComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>set<wbr/>Caret<wbr/>In<wbr/>Pending<wbr/>Composition</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#setPendingCompositionString" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>set<wbr/>Pending<wbr/>Composition<wbr/>String</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#shareModifierStateOf" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>share<wbr/>Modifier<wbr/>State<wbr/>Of</a></li>
<li class="tsd-kind-method tsd-parent-kind-interface"><a href="gen_idls.nsITextInputProcessorType.html#startComposition" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-2048-path"></use><use href="#icon-2048-text"></use></svg>start<wbr/>Composition</a></li></ul></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="../assets/main.js"></script></body></html>